<div class="new-post-form">
  <%= form_with model: @post do |form| %>
    <%= form.hidden_field :user_id, value: current_user.id %>
    <div class="new-post-field">
      <%= form.label :stadium_name, "スタジアム名" %>
      <%= form.text_field :stadium_name, class: "form", readonly: true %>
    </div>

    <div class="new-post-field">
      <%= form.label :address, "住所" %>
      <%= form.text_field :address, class: "form", readonly: true %>
    </div>

    <div class="new-post-field">
      <%= form.label :match_date, "観戦日" %>
      <%= form.date_field :match_date, class: "form", readonly: true %>
    </div>

    <div class="new-post-field">
      <%= form.label :supported_team, "応援したチーム" %>
      <%= form.text_field :supported_team, class: "form", readonly: true %>
    </div>

    <div class="new-post-field">
      <%= form.label :comment, "観戦した感想" %>
      <%= form.text_area :comment, class: "form", readonly: true %>
    </div>

    <div class="new-post-field">
      <%= label_tag :map, "観戦したスタジアムの場所" %>
      <div id="map"></div>
    </div>

    <% if @post.user_id == current_user.id %>
      <div class="new-post-button-container">
        <%= link_to "編集する", edit_post_path(@post), class: "form-button" %>
        <%= link_to "削除する", post_path(@post), data: { turbo_method: :delete, turbo_confirm: "投稿を削除してよろしいですか？" }, class: "form-button" %>
      </div>
    <% end %>
  <% end %>
</div>

<% content_for :js do %>
  <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV["GOOGLE_MAPS_API_KEY"] %>&callback=initMap" async defer></script>
  <%= javascript_import_module_tag "posts/show" %>
<% end %>
