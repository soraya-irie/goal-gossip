<header class="site-header" data-turbo="false">
  <h1 class="site-title"><%= link_to "Goal gossip", root_path, class: "site-title-link" %></h1>
  <div class="dropdown ms-4">
    <a class="text-white text-decoration-none dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      リーグ情報
    </a>
    <ul class="dropdown-menu">
      <li class="nav-item"><%= link_to "順位表", j_league_standings_path, class: "nav-link" %></li>
      <li class="nav-item"><%= link_to "クラブ一覧", j_league_teams_path, class: "nav-link" %></li>
      <li class="nav-item"><%= link_to "スタジアム検索", j_league_search_path, class: "nav-link", data: { turbo: false } %></li>
    </ul>
  </div>
  <nav class="main-nav">
    <% if user_signed_in? %>
      <ul class="nav-list">
        <li class="nav-item"><%= link_to "Home", root_path, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to "設定",  edit_user_registration_path, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to "ログアウト", destroy_user_session_path, class: "nav-link", data: { turbo_method: :delete, turbo_confirm: "ログアウトしますか？" } %></li>
        <li class="nav-item">
          <%= link_to user_path(current_user), class: "nav-link" do %>
            <% if current_user.avatar.attached? %>
              <%= image_tag current_user.avatar, class: "avatar" %>
            <% else %>
              <%= render "shared/default_icon" %>
            <% end %>
            <%= current_user.name %>
          <% end %>
        </li>
      </ul>
    <% else %>
      <ul class="nav-list">
        <li class="nav-item"><%= link_to "Home", root_path, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to "ログイン", new_user_session_path, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to "ゲストログイン", users_guest_sign_in_path, data: { turbo_method: :post }, class: "nav-link" %></li>
        <li class="nav-item"><%= link_to "新規登録", new_user_registration_path, class: "nav-link" %></li>
      </ul>
    <% end %>
  </nav>
  <nav class="sp-nav">
    <% if user_signed_in? %>
      <ul>
        <li><%= link_to "Home", root_path %></li>
        <li><%= link_to "設定",  edit_user_registration_path %></li>
        <li><%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete } %></li>
        <li><%= link_to current_user.name, user_path(current_user) %></li>
        <li class="close"><span>閉じる</span></li>
      </ul>
    <% else %>
      <ul>
        <li><%= link_to "Home", root_path %></li>
        <li><%= link_to "ログイン", new_user_session_path %></li>
        <li><%= link_to "ゲストログイン", users_guest_sign_in_path, data: { turbo_method: :post } %></li>
        <li><%= link_to "新規登録", new_user_registration_path %></li>
        <li class="close"><span>閉じる</span></li>
      </ul>
    <% end %>
  </nav>
  <div id="hamburger">
    <span></span>
  </div>
</header>
